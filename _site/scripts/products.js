const productsPerPage=4,debounceTime=200;let products=[],startIndex=0,isLoading=!1;const populateProducts=e=>{const o=document.querySelector(".results");0===e.length?o.innerHTML='<div class="no-results"><h3>No products found<h3></div>':e.forEach((e,t)=>{t>=startIndex&&t<startIndex+productsPerPage&&(t=`
          <a href="#" class="product-card">
            <img src="${e.image}" alt="product photo" class="product-image">
            <h2>${e.title}</h2>
            <p class="description">${e.description}</p>
          </a>`,o.innerHTML+=t)})},loadMoreProducts=()=>{isLoading||(isLoading=!0,startIndex+=productsPerPage,setTimeout(()=>{populateProducts(products),isLoading=!1},250))},debounce=(document.addEventListener("DOMContentLoaded",()=>{fetch("/data/products.json").then(e=>e.json()).then(e=>{products=e.results,populateProducts(products)}).catch(e=>{console.error(e)}),window.addEventListener("scroll",debounce(()=>{var{scrollTop:e,scrollHeight:t,clientHeight:o}=document.documentElement;t-15<=e+o&&loadMoreProducts()},debounceTime))}),(t,o)=>{let r;return(...e)=>{clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),t(...e)},o)}});